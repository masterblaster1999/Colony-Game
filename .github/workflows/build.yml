name: windows-build
on: [push, pull_request]

jobs:
  build-win:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v4

      - name: Enable Developer Command Prompt
        uses: aminya/setup-cpp@v2
        with:
          msvc: true
          vcvarsall: true

      - name: Configure (VS 2022, RelWithDebInfo)
        run: cmake --preset vs-2022-x64-relwithdebinfo

      - name: Build (VS 2022, RelWithDebInfo)
        run: cmake --build --preset vs-2022-relwithdebinfo-build
